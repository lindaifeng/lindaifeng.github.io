import{_ as s}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as i,o as a,f as n}from"./app-X4Oeetgs.js";const e={},l=n(`<h2 id="docker安装各软件-汇总" tabindex="-1"><a class="header-anchor" href="#docker安装各软件-汇总"><span>Docker安装各软件（汇总）</span></a></h2><h2 id="一、docker安装oracle-12c" tabindex="-1"><a class="header-anchor" href="#一、docker安装oracle-12c"><span>一、docker<strong>安装oracle-12c</strong></span></a></h2><h3 id="_1、拉取oracle-12c镜像" tabindex="-1"><a class="header-anchor" href="#_1、拉取oracle-12c镜像"><span><strong>1、拉取oracle-12c镜像</strong></span></a></h3><p>启动**「Docker Desktop」<strong>后在cmd窗口中执行<code>docker search oracle</code>命令，搜索Oracle相关的镜像，可以看到搜索结果中的</strong>「truevoly/oracle-12c」**</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"># 拉取镜像(默认下载oracle-12c最新版本的镜像)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">docker pull truevoly/oracle-12c</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_2、创建并启动容器" tabindex="-1"><a class="header-anchor" href="#_2、创建并启动容器"><span><strong>2、创建并启动容器</strong></span></a></h3><p>cmd中执行以下命令，在docker中创建并启动一个oracle-12c容器，<strong>「对物理机暴露2122、9090和1521三个端口分别映射到容器内的22、8080和1521端口」</strong>，并且将容器内的oracle目录**「挂载」**到物理机的D盘中</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>#创建目录</span></span>
<span class="line"><span>mkdir -p /var/oracle/data/</span></span>
<span class="line"><span>#赋予权限</span></span>
<span class="line"><span>chmod -R 777 /var/oracle/data/</span></span>
<span class="line"><span>#启动容器</span></span>
<span class="line"><span>docker run -d -p 8080:8080 -p 1521:1521 -v /var/oracle/data/:/u01/app/oracle/ truevoly/oracle-12c</span></span>
<span class="line"><span></span></span>
<span class="line"><span>#推荐使用（限制内存上限，允许外部访问）</span></span>
<span class="line"><span>docker run --name oracle-12c -e ORACLE_ALLOW_REMOTE=true -p 8080:8080 -p 1521:1521 --memory=4g -v /var/oracle/data/:/u01/app/oracle/ -d truevoly/oracle-12c</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>查看容器启动日志（看到**「Import finished Database ready to use. Enjoy!」** 即容器创建并启动完成）</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"># 查看oracle-12c启动日志</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">docker logs -f oracle-12c</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><figure><img src="http://img.lindaifeng.vip/typora-picgo-tuchaung/20230425140406.png" alt="image-20230425140406861" tabindex="0" loading="lazy"><figcaption>image-20230425140406861</figcaption></figure><figure><img src="http://img.lindaifeng.vip/typora-picgo-tuchaung/20230425140423.png" alt="image-20230425140422986" tabindex="0" loading="lazy"><figcaption>image-20230425140422986</figcaption></figure><p>若日志中出现以下报错，是因为对外暴露的端口不可用访问权限已被禁止，只要更改创建容器时对外暴露的端口即可</p><div class="language-text line-numbers-mode" data-highlighter="shiki" data-ext="text" data-title="text" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>docker: Error response from daemon: Ports are not available: exposing port TCP 0.0.0.0:1521 -&gt; 0.0.0.0:0: listen tcp 0.0.0.0:1521: bind: An attempt was made to access a socket in a way forbidden by its access permissions.</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>可在cmd中执行以下命令查看哪些端口被禁用TCP协议</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"># </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">windows</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> cmd命令查看哪些端口被禁用TCP协议</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">netsh interface ipv4 show excludedportrange protocol</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">tcp</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_3、修改oracle账号密码设置" tabindex="-1"><a class="header-anchor" href="#_3、修改oracle账号密码设置"><span><strong>3、修改oracle账号密码设置</strong></span></a></h3><p>truevoly/oracle-12c镜像创建的容器**「默认有<code>sys</code>和<code>system</code>两个用户，密码都是<code>oracle</code>，默认的一个SID/服务名是xe」**，Oracle的用户密码默认有效期是180天，180天后用户会自动锁住，下面进入oracle-12c容器内将密码的有效期设置为永久！</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"># 进入oracle-12c容器内</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">docker </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">exec</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -it oracle-12c /bin/bash</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"># 切换成oracle用户</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">su oracle</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"># 进入sqlplus</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">$ORACLE_HOME/bin/sqlplus / </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">as</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> sysdba</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"># 设置密码有效期为无限制</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">SQL</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">&gt;</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> ALTER</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> PROFILE</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> DEFAULT</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> LIMIT</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> PASSWORD_LIFE_TIME </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">UNLIMITED</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"># 解锁system用户</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">SQL</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">&gt;</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> alter</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> user </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">SYSTEM</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> account </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">unlock</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_4、物理机连接oracle-12c" tabindex="-1"><a class="header-anchor" href="#_4、物理机连接oracle-12c"><span><strong>4、物理机连接oracle-12c</strong></span></a></h3><p>使用PL/SQL或Navicat等工具测试连接oracle-12c</p><figure><img src="http://img.lindaifeng.vip/typora-picgo-tuchaung/20230425140440.png" alt="image-20230425140440589" tabindex="0" loading="lazy"><figcaption>image-20230425140440589</figcaption></figure><h3 id="拓展" tabindex="-1"><a class="header-anchor" href="#拓展"><span><strong>拓展</strong></span></a></h3><h3 id="oracle创建表空间与用户" tabindex="-1"><a class="header-anchor" href="#oracle创建表空间与用户"><span><strong>Oracle创建表空间与用户</strong></span></a></h3><p>以下创建一个<code>ling_mf3</code>数据表空间</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">-- 创建ling_mf3数据表空间</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">create</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> tablespace</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> ling_mf3</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> datafile </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;/u01/app/oracle/data/ling_mf3.dbf&#39;</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> size</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> 50M;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>创建表空间成功，同时也会在挂载的目录下生成相应数据文件</p><p>以下创建一个用户<code>ling</code>并授权，且设置<code>ling_mf3</code>为它的默认表空间</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">-- 创建ling用户密码为meet0and1#202302并设置ling_mf3为它的默认表空间</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">create</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> user</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> ling</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> identified </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">by</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;meet0and1#202302&quot;</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> default</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> tablespace ling_mf3;</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">-- 给用户ling授权 dba：管理员的权限</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">grant</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> connect</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">resource</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,dba </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">to</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> ling;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="重启oracle服务" tabindex="-1"><a class="header-anchor" href="#重启oracle服务"><span><strong>重启Oracle服务</strong></span></a></h3><p>在**「Docker Desktop」**中可以一键重启，但实际开发中一般是在Linux环境中，我这里演示用命令重启Oracle服务</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">-- 查看监听状态</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">lsnrctl </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">status</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">-- 停监听</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">lsnrctl </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">stop</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">sqlplus / </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">as</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> sysdba</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">-- 停止oracle</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">SQL</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">&gt;</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">shutdown</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> immediate</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">-- 启服务</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">SQL</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">&gt;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">startup;</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">SQL</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">&gt;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">exit</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">-- 启监听</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">lsnrctl </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">start</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="更多常用" tabindex="-1"><a class="header-anchor" href="#更多常用"><span><strong>更多常用...</strong></span></a></h3><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">-- 删除表空间</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">drop</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> table</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">space ling_mf3;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">-- 查询所有的表空间</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">select</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> tablespace_name </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">from</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> dba_tablespaces;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">-- 查看当前的用户和表空间</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">select</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> username,default_tablespace </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">from</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> user_users;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">-- 查看当前用户的角色</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">select</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> * </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">from</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> user_role_privs;</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">-- 查询实例名/SID/服务名</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">select</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> instance_name </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">from</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> v$instance;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">-- 查看Oracle版本</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">select</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> * </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">from</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> v$</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">version</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">-- 查看数据库允许的最大连接数</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">select</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> value</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> from</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> v$parameter </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">where</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> name</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &#39;processes&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">-- 查看当前连接数</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">select</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> count</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(*) </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">from</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> v$process;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">-- 查看数据库当前会话的连接数</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">select</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> count</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(*) </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">from</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> v$</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">session</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">-- 查看数据库当前的并发连接数</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">select</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> count</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(*) </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">from</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> v$</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">session</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> where</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> status</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &#39;ACTIVE&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="二、docker安装mysql" tabindex="-1"><a class="header-anchor" href="#二、docker安装mysql"><span>二、docker安装mysql</span></a></h2><p><strong>思路：</strong> 1、创建相应目录 2、创建配置文间 3、运行容器 4、进入容器内部修改root登录权限 5、测试连接（如果是云服务器，需要在防火墙开通相应端口）</p><p><strong>注意挂载的my.cnf映射路径，不同版本不一样，建议先不挂载启动一个容器查看</strong></p><p><strong>/etc/my.cnf</strong></p><h3 id="创建第一台mysql-1" tabindex="-1"><a class="header-anchor" href="#创建第一台mysql-1"><span>创建第一台mysql-1</span></a></h3><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>1、创建相应目录</span></span>
<span class="line"><span>mkdir -p /var/mysql-1/{data,logs,conf}</span></span>
<span class="line"><span>chmod 777 /var/mysql-1/logs -R</span></span>
<span class="line"><span>2、创建配置文件(文件内容已放最下面，直接复制即可)</span></span>
<span class="line"><span>vim /var/mysql-1/conf/mysql.cnf</span></span>
<span class="line"><span></span></span>
<span class="line"><span>[mysqld]</span></span>
<span class="line"><span></span></span>
<span class="line"><span>datadir=/var/mysql-1/mysql</span></span>
<span class="line"><span> </span></span>
<span class="line"><span>socket=/var/mysql-1/mysql/mysql.sock</span></span>
<span class="line"><span> </span></span>
<span class="line"><span>symbolic-links=0</span></span>
<span class="line"><span> </span></span>
<span class="line"><span>lower_case_table_names=1</span></span>
<span class="line"><span>[client]</span></span>
<span class="line"><span>socket=/var/mysql-2/mysql/mysql.sock</span></span>
<span class="line"><span></span></span>
<span class="line"><span>3、运行容器</span></span>
<span class="line"><span>docker run -d --name=&quot;mysql-1&quot; -p 3306:3306 -v /var/mysql-1/conf/my.cnf:/etc/mysql/conf.d/my.cnf -v /var/mysql-1/data:/var/lib/mysql -v /var/mysql-1/logs:/var/log -e MYSQL_ROOT_PASSWORD=&quot;Zz@2022&quot; mysql:5.7</span></span>
<span class="line"><span></span></span>
<span class="line"><span>4、进入容器内部修改root登录权限</span></span>
<span class="line"><span>docker exec -it mysql bash</span></span>
<span class="line"><span>mysql -h 127.0.0.1 -P 3306 -u root -uroot -p&#39;Zz@2022&#39;</span></span>
<span class="line"><span>mysql&gt; grant all privileges on *.* to &#39;root&#39;@&#39;%&#39; identified by &#39;Zz@2022&#39;;</span></span>
<span class="line"><span>mysql&gt; flush privileges;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="创建第二台mysql-2" tabindex="-1"><a class="header-anchor" href="#创建第二台mysql-2"><span>创建第二台mysql-2</span></a></h3><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>1、创建相应目录</span></span>
<span class="line"><span>mkdir -p /var/mysql-2/{data,logs,conf}</span></span>
<span class="line"><span>chmod 777 /var/mysql-2/logs -R</span></span>
<span class="line"><span>2、创建配置文件(文件内容已放最下面，直接复制即可)</span></span>
<span class="line"><span>vi /var/mysql-2/conf/mysql.cnf</span></span>
<span class="line"><span></span></span>
<span class="line"><span>[mysqld]</span></span>
<span class="line"><span></span></span>
<span class="line"><span>datadir=/var/mysql-2/mysql</span></span>
<span class="line"><span> </span></span>
<span class="line"><span>socket=/var/mysql-2/mysql/mysql.sock</span></span>
<span class="line"><span> </span></span>
<span class="line"><span>symbolic-links=0</span></span>
<span class="line"><span> </span></span>
<span class="line"><span>lower_case_table_names=1</span></span>
<span class="line"><span></span></span>
<span class="line"><span>[client]</span></span>
<span class="line"><span>socket=/var/mysql-2/mysql/mysql.sock</span></span>
<span class="line"><span></span></span>
<span class="line"><span>3、运行容器</span></span>
<span class="line"><span>docker run -d --name=&quot;mysql-2&quot; -p 3307:3306 -v /var/mysql-2/conf/my.cnf:/etc/mysql/conf.d/my.cnf -v /var/mysql-2/data:/var/lib/mysql -v /var/mysql-2/logs:/var/log -e MYSQL_ROOT_PASSWORD=&quot;Zz@2022&quot; mysql:5.7</span></span>
<span class="line"><span></span></span>
<span class="line"><span>4、进入容器内部修改root登录权限</span></span>
<span class="line"><span>docker exec -it mysql bash</span></span>
<span class="line"><span>mysql -h 127.0.0.1 -P 3306 -u root -uroot -p&#39;Zz@2022&#39;</span></span>
<span class="line"><span>mysql&gt; grant all privileges on *.* to &#39;root&#39;@&#39;%&#39; identified by &#39;Zz@2022&#39;;</span></span>
<span class="line"><span>mysql&gt; flush privileges;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><figure><img src="http://img.lindaifeng.vip/typora-picgo-tuchaung/20230419200402.png" alt="image-20230419200402414" tabindex="0" loading="lazy"><figcaption>image-20230419200402414</figcaption></figure><p>启动显示以下内容，为启动成功</p><blockquote><p>Version: &#39;5.7.36&#39; socket: &#39;/var/run/mysqld/mysqld.sock&#39; port: 3306 MySQL Community Server (GPL)</p></blockquote><p>参数说明：</p><ul><li><strong>-p 3306:3306</strong>：将容器的 3306 端口映射到宿主机的 3306 端口。</li><li><strong>-v $PWD/conf:/etc/mysql/conf.d</strong>：将主机当前目录下的 conf/my.cnf 挂载到容器的 /etc/mysql/my.cnf。配置目录</li><li><strong>-v $PWD/logs:/logs</strong>：将主机当前目录下的 logs 目录挂载到容器的 /logs。日志目录</li><li><strong>-v $PWD/data:/var/lib/mysql</strong> ：将主机当前目录下的data目录挂载到容器的 /var/lib/mysql 。数据目录</li><li>**-e MYSQL_ROOT_PASSWORD=123456：**初始化 root 用户的密码。</li></ul><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>cd /home/dockerdata/mysql/conf/</span></span>
<span class="line"><span>vi my.cnf</span></span>
<span class="line"><span></span></span>
<span class="line"><span># Copyright (c) 2014, 2016, Oracle and/or its affiliates. All rights reserved.</span></span>
<span class="line"><span>#</span></span>
<span class="line"><span># This program is free software; you can redistribute it and/or modify</span></span>
<span class="line"><span># it under the terms of the GNU General Public License as published by</span></span>
<span class="line"><span># the Free Software Foundation; version 2 of the License.</span></span>
<span class="line"><span>#</span></span>
<span class="line"><span># This program is distributed in the hope that it will be useful,</span></span>
<span class="line"><span># but WITHOUT ANY WARRANTY; without even the implied warranty of</span></span>
<span class="line"><span># MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span></span>
<span class="line"><span># GNU General Public License for more details.</span></span>
<span class="line"><span>#</span></span>
<span class="line"><span># You should have received a copy of the GNU General Public License</span></span>
<span class="line"><span># along with this program; if not, write to the Free Software</span></span>
<span class="line"><span># Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301 USA</span></span>
<span class="line"><span></span></span>
<span class="line"><span>#</span></span>
<span class="line"><span># The MySQL  Server configuration file.</span></span>
<span class="line"><span>#</span></span>
<span class="line"><span># For explanations see</span></span>
<span class="line"><span># http://dev.mysql.com/doc/mysql/en/server-system-variables.html</span></span>
<span class="line"><span></span></span>
<span class="line"><span>[mysqld]</span></span>
<span class="line"><span>pid-file	= /var/run/mysqld/mysqld.pid</span></span>
<span class="line"><span>socket		= /var/run/mysqld/mysqld.sock</span></span>
<span class="line"><span>datadir		= /var/lib/mysql</span></span>
<span class="line"><span>#log-error	= /var/log/mysql/error.log</span></span>
<span class="line"><span># Disabling symbolic-links is recommended to prevent assorted security risks</span></span>
<span class="line"><span>symbolic-links=0</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>max_connections = 2000</span></span>
<span class="line"><span>max_user_connections = 1900</span></span>
<span class="line"><span>max_connect_errors = 100000</span></span>
<span class="line"><span>max_allowed_packet = 50M</span></span>
<span class="line"><span>lower_case_table_names=1</span></span>
<span class="line"><span>[mysqld]</span></span>
<span class="line"><span>skip-name-resolve</span></span>
<span class="line"><span></span></span>
<span class="line"><span>#保存后退出</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>修改密码</strong>：version8.0+</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>ALTER USER &#39;root&#39;@&#39;localhost&#39; IDENTIFIED WITH mysql_native_password BY &quot;ST1q@W3e4r&quot;;</span></span>
<span class="line"><span>ALTER USER &#39;root&#39;@&#39;%&#39; IDENTIFIED WITH mysql_native_password BY &quot;ST1q@W3e4r&quot;;</span></span>
<span class="line"><span>flush privileges;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="二、arm安装mysql-裸机" tabindex="-1"><a class="header-anchor" href="#二、arm安装mysql-裸机"><span>二、ARM安装Mysql（裸机）</span></a></h2><p>平台信息：</p><p>OS : ky10</p><p>CPU :KUNPENG.v920</p><p>MYSQL信息：</p><p>版本：8.0.25（Red Hat Enterprise Linux 7 / Oracle Linux 7 (ARM, 64-bit)）</p><h3 id="_1、卸载" tabindex="-1"><a class="header-anchor" href="#_1、卸载"><span>1、卸载</span></a></h3><p>查询是否已安装mariadb</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>rpm -qa mariadb*  或 rpm -qa |grep mariadb</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>卸载mariadb与依赖关系的软件包</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>yum remove -y \`rpm -qa mariadb*\`</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="_2、-下载" tabindex="-1"><a class="header-anchor" href="#_2、-下载"><span>2、 下载</span></a></h3><p>​ 下载RPM Bundle，其中包含所有依赖的RPM安装包</p><p>(mysql-8.0.25-1.el7.aarch64.rpm-bundle.tar)</p><p>(compat-openssl10-1.0.2o-3.el8.aarch64.rpm)</p><p>下载地址：https://downloads.mysql.com/archives/community/</p><h3 id="_3、安装" tabindex="-1"><a class="header-anchor" href="#_3、安装"><span>3、安装</span></a></h3><p>​ 2.1 上传至服务器，解压</p><pre><code>    tar -zxvf mysql-8.0.26-1.el8.aarch64.rpm-bundle.tar
</code></pre><h3 id="_4、-按照以下顺序安装需要的包" tabindex="-1"><a class="header-anchor" href="#_4、-按照以下顺序安装需要的包"><span>4、 按照以下顺序安装需要的包</span></a></h3><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>    rpm -ivh mysql-community-client-plugins-8.0.26-1.el8.aarch64.rpm</span></span>
<span class="line"><span>    rpm -ivh mysql-community-common-8.0.26-1.el8.aarch64.rpm</span></span>
<span class="line"><span>    rpm -ivh mysql-community-libs-8.0.26-1.el8.aarch64.rpm</span></span>
<span class="line"><span>    rpm -ivh mysql-community-client-8.0.26-1.el8.aarch64.rpm</span></span>
<span class="line"><span>    rpm -ivh mysql-community-server-8.0.26-1.el8.aarch64.rpm</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>有错误看常见错误</strong></p><h3 id="_5、-初始化" tabindex="-1"><a class="header-anchor" href="#_5、-初始化"><span>5、 初始化</span></a></h3><p>​ #用户可以随意，我用的root用户</p><pre><code>    mysqld --initialize-insecure --user=root
</code></pre><h3 id="_6、-启动" tabindex="-1"><a class="header-anchor" href="#_6、-启动"><span>6、 启动</span></a></h3><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>     systemctl start mysqld</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><pre><code>    补充命令：
    启动mysql服务：systemctl start mysqld.service
    停止mysql服务：systemctl stop mysqld.service
    重启mysql服务：systemctl restart mysqld.service
    查看mysql服务当前状态：    systemctl status mysqld.service
    设置mysql服务开机自启动： systemctl enable mysqld.service
    停止mysql服务开机自启动： systemctl disable mysqld.service
</code></pre><h3 id="常见错误" tabindex="-1"><a class="header-anchor" href="#常见错误"><span>常见错误：</span></a></h3><p><strong>错误提示：libLLVM-7.so不是符号连接</strong></p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>sudo find / -name &quot;libLLVM*&quot;</span></span>
<span class="line"><span>/usr/lib64/libLLVM-10.so</span></span>
<span class="line"><span>/usr/lib64/libLLVM-7.0.0.so</span></span>
<span class="line"><span>/usr/lib64/libLLVM-7.so</span></span>
<span class="line"><span>/usr/lib64/libLLVM-10.0.1.so</span></span>
<span class="line"><span>然后查看</span></span>
<span class="line"><span>ls /usr/lib64/libLL* -la</span></span>
<span class="line"><span>lrwxrwxrwx. 1 root root       13 12月  8 14:35 /usr/lib64/libLLVM-10.0.1.so -&gt; libLLVM-10.so</span></span>
<span class="line"><span>-rwxr-xr-x. 1 root root 84012704 12月  8 14:35 /usr/lib64/libLLVM-10.so</span></span>
<span class="line"><span>-rwxr-xr-x. 1 root root 55552296 10月  9 17:45 /usr/lib64/libLLVM-7.0.0.so</span></span>
<span class="line"><span>-rwxr-xr-x. 1 root root 55552296 10月  9 17:45 /usr/lib64/libLLVM-7.so</span></span>
<span class="line"><span>发现ibLLVM-7.so确实没有连接</span></span>
<span class="line"><span>手动建立连接</span></span>
<span class="line"><span>sudo ln -sf /usr/lib64/libLLVM-7.0.0.so /usr/lib64/libLLVM-7.so</span></span>
<span class="line"><span>错误提示消失。</span></span>
<span class="line"><span> </span></span>
<span class="line"><span>sudo ldconfig</span></span>
<span class="line"><span>sudo ldconfig -v</span></span>
<span class="line"><span>会自动处理ld.so.conf和ld.so.conf.d </span></span>
<span class="line"><span>文件默认放在/lib和/usr/lib</span></span>
<span class="line"><span>临时配置可使用命令</span></span>
<span class="line"><span>export LD_LIBRARY_PATH=/usr/lib/****:/usr/local/lib/****</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>启动报错</strong></p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>find / -name mysqld.log</span></span>
<span class="line"><span></span></span>
<span class="line"><span>首先检查了 mysqld.log 日志，得到了报错的日志信息</span></span>
<span class="line"><span>The innodb_system data file &#39;ibdata1&#39; must be writable</span></span>
<span class="line"><span>根据日志信息知道了是 ‘ibdata1’ 数据文件必须是可写的</span></span>
<span class="line"><span>所以更改权限即可</span></span>
<span class="line"><span>输入</span></span>
<span class="line"><span>chmod -R 777 /var/lib/mysql</span></span>
<span class="line"><span>然后重新启动服务</span></span>
<span class="line"><span>service mysqld start</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="三、docker安装部署tomcat" tabindex="-1"><a class="header-anchor" href="#三、docker安装部署tomcat"><span>三、docker安装部署Tomcat</span></a></h2><h3 id="_1、搜索tomcat镜像" tabindex="-1"><a class="header-anchor" href="#_1、搜索tomcat镜像"><span>1、搜索tomcat镜像</span></a></h3><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" data-title="shell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">docker</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> search</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> tomcat</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="_2、拉取tomcat镜像" tabindex="-1"><a class="header-anchor" href="#_2、拉取tomcat镜像"><span>2、拉取tomcat镜像</span></a></h3><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" data-title="shell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">docker</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> pull</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> tomcat</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="_3、创建容器-设置端口映射、目录映射" tabindex="-1"><a class="header-anchor" href="#_3、创建容器-设置端口映射、目录映射"><span>3、创建容器，设置端口映射、目录映射</span></a></h3><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" data-title="shell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;"># 在/root目录下创建tomcat目录用于存储tomcat数据信息</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">mkdir</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> ~/tomcat</span></span>
<span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">cd</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> ~/tomcat</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" data-title="shell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">docker</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> run</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -id</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --name=c_tomcat</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> \\</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">-p </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">8080:8080</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> \\</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">-v </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">$PWD</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">:/usr/local/tomcat/webapps</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> \\</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">tomcat</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><p>参数说明：</p><ul><li><p>**-p 8080:8080：**将容器的8080端口映射到主机的8080端口</p><p>**-v $PWD:/usr/local/tomcat/webapps：**将主机中当前目录挂载到容器的webapps</p></li></ul></li></ul><h3 id="_4、测试" tabindex="-1"><a class="header-anchor" href="#_4、测试"><span>4、测试</span></a></h3><p>使用外部机器访问tomcat</p><h2 id="三、docker安装部署nginx" tabindex="-1"><a class="header-anchor" href="#三、docker安装部署nginx"><span>三、docker安装部署Nginx</span></a></h2><h3 id="_1、搜索nginx镜像" tabindex="-1"><a class="header-anchor" href="#_1、搜索nginx镜像"><span>1、搜索nginx镜像</span></a></h3><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" data-title="shell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">docker</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> search</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> nginx</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="_2、拉取nginx镜像" tabindex="-1"><a class="header-anchor" href="#_2、拉取nginx镜像"><span>2、拉取nginx镜像</span></a></h3><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" data-title="shell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">docker</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> pull</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> nginx</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="_3、创建容器-设置端口映射、目录映射-1" tabindex="-1"><a class="header-anchor" href="#_3、创建容器-设置端口映射、目录映射-1"><span>3、创建容器，设置端口映射、目录映射</span></a></h3><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" data-title="shell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;"># 在/root目录下创建nginx目录用于存储nginx数据信息</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">mkdir</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> ~/nginx</span></span>
<span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">cd</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> ~/nginx</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">mkdir</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> conf</span></span>
<span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">cd</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> conf</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;"># 在~/nginx/conf/下创建nginx.conf文件,粘贴下面内容</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">vim</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> nginx.conf</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" data-title="shell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">user</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  nginx</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">worker_processes</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">  1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">error_log</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  /var/log/nginx/error.log</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> warn</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">pid</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">        /var/run/nginx.pid</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">events</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> {</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">    worker_connections</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">  1024</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">http</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> {</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">    include</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">       /etc/nginx/mime.types</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">    default_type</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  application/octet-stream</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">    log_format</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  main</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  &#39;$remote_addr - $remote_user [$time_local] &quot;$request&quot; &#39;</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">                      &#39;$status $body_bytes_sent &quot;$http_referer&quot; &#39;</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">                      &#39;&quot;$http_user_agent&quot; &quot;$http_x_forwarded_for&quot;&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">    access_log</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  /var/log/nginx/access.log</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  main</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">    sendfile</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">        on</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">    #tcp_nopush     on;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">    keepalive_timeout</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">  65</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">    #gzip  on;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">    include</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /etc/nginx/conf.d/</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">*</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">.conf</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" data-title="shell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">docker</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> run</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -id</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --name=c_nginx</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> \\</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">-p </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">80:80</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> \\</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">-v </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">$PWD</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">/conf/nginx.conf:/etc/nginx/nginx.conf</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> \\</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">-v </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">$PWD</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">/logs:/var/log/nginx</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> \\</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">-v </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">$PWD</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">/html:/usr/share/nginx/html</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> \\</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">nginx</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>参数说明： <ul><li><strong>-p 80:80</strong>：将容器的 80端口映射到宿主机的 80 端口。</li><li><strong>-v $PWD/conf/nginx.conf:/etc/nginx/nginx.conf</strong>：将主机当前目录下的 /conf/nginx.conf 挂载到容器的 :/etc/nginx/nginx.conf。配置目录</li><li><strong>-v $PWD/logs:/var/log/nginx</strong>：将主机当前目录下的 logs 目录挂载到容器的/var/log/nginx。日志目录</li></ul></li></ul><h3 id="_4、测试-1" tabindex="-1"><a class="header-anchor" href="#_4、测试-1"><span>4、测试</span></a></h3><p>使用外部机器访问nginx</p><h2 id="四、docker安装部署redis" tabindex="-1"><a class="header-anchor" href="#四、docker安装部署redis"><span>四、docker安装部署Redis</span></a></h2><h3 id="_1、搜索redis镜像" tabindex="-1"><a class="header-anchor" href="#_1、搜索redis镜像"><span>1、搜索redis镜像</span></a></h3><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" data-title="shell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">docker</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> search</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> redis</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="_2、拉取redis镜像" tabindex="-1"><a class="header-anchor" href="#_2、拉取redis镜像"><span>2、拉取redis镜像</span></a></h3><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" data-title="shell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">docker</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> pull</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> redis:5.0</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="_3、创建容器-设置端口映射" tabindex="-1"><a class="header-anchor" href="#_3、创建容器-设置端口映射"><span>3、创建容器，设置端口映射</span></a></h3><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" data-title="shell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">docker</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> run</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -id</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --name=c_redis</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -p</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 6379:6379</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> redis:5.0</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="_4、测试-2" tabindex="-1"><a class="header-anchor" href="#_4、测试-2"><span>4、测试</span></a></h3><p>使用外部机器连接redis</p><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" data-title="shell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">./redis-cli.exe</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -h</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 192.168.x.x</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -p</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 6379</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h2 id="五、docker安装部署postgresql" tabindex="-1"><a class="header-anchor" href="#五、docker安装部署postgresql"><span>五、docker安装部署postgreSQL</span></a></h2><h3 id="_1、搜索postgres镜像" tabindex="-1"><a class="header-anchor" href="#_1、搜索postgres镜像"><span>1、搜索postgres镜像</span></a></h3><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" data-title="shell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">docker</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> search</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> postgres</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="_2、拉取postgres镜像" tabindex="-1"><a class="header-anchor" href="#_2、拉取postgres镜像"><span>2、拉取postgres镜像</span></a></h3><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" data-title="shell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">docker</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> pull</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> postgres:14-alpine</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="_3、创建挂载目录" tabindex="-1"><a class="header-anchor" href="#_3、创建挂载目录"><span>3、创建挂载目录</span></a></h3><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>mkdir -p /data/postgresql/data</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="_4、创建容器-设置端口映射" tabindex="-1"><a class="header-anchor" href="#_4、创建容器-设置端口映射"><span>4、创建容器，设置端口映射</span></a></h3><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" data-title="shell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">docker</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> run</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -d</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --name=postgresql</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -p</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 5432:5432</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">  -v</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /data/postgresql/data:/var/lib/postgresql/data</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -e</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> POSTGRES_PASSWORD=Zz@2020</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> postgres:14-alpine</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="_5、修改密码-可选" tabindex="-1"><a class="header-anchor" href="#_5、修改密码-可选"><span>5、修改密码（可选）</span></a></h3><p>1.进入docker 容器</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>docker exec -it postgres96 /bin/sh</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>2.连接数据库</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>psql -U postgres</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>3.键入命令修改postgres用户密码：</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span> ALTER USER postgres WITH PASSWORD &#39;ST1q@W3e4r&#39;;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div>`,132),t=[l];function p(r,d){return a(),i("div",null,t)}const k=s(e,[["render",p],["__file","Linux docker安装各软件(汇总).html.vue"]]),o=JSON.parse('{"path":"/deploy/Linux%E9%83%A8%E7%BD%B2%E6%96%87%E6%A1%A3/%E8%BD%AF%E4%BB%B6%E5%AE%89%E8%A3%85/Linux%20docker%E5%AE%89%E8%A3%85%E5%90%84%E8%BD%AF%E4%BB%B6(%E6%B1%87%E6%80%BB).html","title":"docker安装各软件（汇总）","lang":"zh-CN","frontmatter":{"title":"docker安装各软件（汇总）","categories":["Docker"],"tags":["docker"],"order":2,"description":"Docker安装各软件（汇总） 一、docker安装oracle-12c 1、拉取oracle-12c镜像 启动**「Docker Desktop」后在cmd窗口中执行docker search oracle命令，搜索Oracle相关的镜像，可以看到搜索结果中的「truevoly/oracle-12c」** 2、创建并启动容器 cmd中执行以下命令，在...","head":[["meta",{"property":"og:url","content":"http://blog.lindaifeng.vip/deploy/Linux%E9%83%A8%E7%BD%B2%E6%96%87%E6%A1%A3/%E8%BD%AF%E4%BB%B6%E5%AE%89%E8%A3%85/Linux%20docker%E5%AE%89%E8%A3%85%E5%90%84%E8%BD%AF%E4%BB%B6(%E6%B1%87%E6%80%BB).html"}],["meta",{"property":"og:site_name","content":"文档演示"}],["meta",{"property":"og:title","content":"docker安装各软件（汇总）"}],["meta",{"property":"og:description","content":"Docker安装各软件（汇总） 一、docker安装oracle-12c 1、拉取oracle-12c镜像 启动**「Docker Desktop」后在cmd窗口中执行docker search oracle命令，搜索Oracle相关的镜像，可以看到搜索结果中的「truevoly/oracle-12c」** 2、创建并启动容器 cmd中执行以下命令，在..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:image","content":"http://img.lindaifeng.vip/typora-picgo-tuchaung/20230425140406.png"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2024-09-11T03:57:59.000Z"}],["meta",{"property":"article:author","content":"清峰"}],["meta",{"property":"article:tag","content":"docker"}],["meta",{"property":"article:modified_time","content":"2024-09-11T03:57:59.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"docker安装各软件（汇总）\\",\\"image\\":[\\"http://img.lindaifeng.vip/typora-picgo-tuchaung/20230425140406.png\\",\\"http://img.lindaifeng.vip/typora-picgo-tuchaung/20230425140423.png\\",\\"http://img.lindaifeng.vip/typora-picgo-tuchaung/20230425140440.png\\",\\"http://img.lindaifeng.vip/typora-picgo-tuchaung/20230419200402.png\\"],\\"dateModified\\":\\"2024-09-11T03:57:59.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"清峰\\",\\"url\\":\\"http://blog.lindaifeng.vip/\\"}]}"]]},"headers":[{"level":2,"title":"Docker安装各软件（汇总）","slug":"docker安装各软件-汇总","link":"#docker安装各软件-汇总","children":[]},{"level":2,"title":"一、docker安装oracle-12c","slug":"一、docker安装oracle-12c","link":"#一、docker安装oracle-12c","children":[{"level":3,"title":"1、拉取oracle-12c镜像","slug":"_1、拉取oracle-12c镜像","link":"#_1、拉取oracle-12c镜像","children":[]},{"level":3,"title":"2、创建并启动容器","slug":"_2、创建并启动容器","link":"#_2、创建并启动容器","children":[]},{"level":3,"title":"3、修改oracle账号密码设置","slug":"_3、修改oracle账号密码设置","link":"#_3、修改oracle账号密码设置","children":[]},{"level":3,"title":"4、物理机连接oracle-12c","slug":"_4、物理机连接oracle-12c","link":"#_4、物理机连接oracle-12c","children":[]},{"level":3,"title":"拓展","slug":"拓展","link":"#拓展","children":[]},{"level":3,"title":"Oracle创建表空间与用户","slug":"oracle创建表空间与用户","link":"#oracle创建表空间与用户","children":[]},{"level":3,"title":"重启Oracle服务","slug":"重启oracle服务","link":"#重启oracle服务","children":[]},{"level":3,"title":"更多常用...","slug":"更多常用","link":"#更多常用","children":[]}]},{"level":2,"title":"二、docker安装mysql","slug":"二、docker安装mysql","link":"#二、docker安装mysql","children":[{"level":3,"title":"创建第一台mysql-1","slug":"创建第一台mysql-1","link":"#创建第一台mysql-1","children":[]},{"level":3,"title":"创建第二台mysql-2","slug":"创建第二台mysql-2","link":"#创建第二台mysql-2","children":[]}]},{"level":2,"title":"二、ARM安装Mysql（裸机）","slug":"二、arm安装mysql-裸机","link":"#二、arm安装mysql-裸机","children":[{"level":3,"title":"1、卸载","slug":"_1、卸载","link":"#_1、卸载","children":[]},{"level":3,"title":"2、 下载","slug":"_2、-下载","link":"#_2、-下载","children":[]},{"level":3,"title":"3、安装","slug":"_3、安装","link":"#_3、安装","children":[]},{"level":3,"title":"4、 按照以下顺序安装需要的包","slug":"_4、-按照以下顺序安装需要的包","link":"#_4、-按照以下顺序安装需要的包","children":[]},{"level":3,"title":"5、 初始化","slug":"_5、-初始化","link":"#_5、-初始化","children":[]},{"level":3,"title":"6、 启动","slug":"_6、-启动","link":"#_6、-启动","children":[]},{"level":3,"title":"常见错误：","slug":"常见错误","link":"#常见错误","children":[]}]},{"level":2,"title":"三、docker安装部署Tomcat","slug":"三、docker安装部署tomcat","link":"#三、docker安装部署tomcat","children":[{"level":3,"title":"1、搜索tomcat镜像","slug":"_1、搜索tomcat镜像","link":"#_1、搜索tomcat镜像","children":[]},{"level":3,"title":"2、拉取tomcat镜像","slug":"_2、拉取tomcat镜像","link":"#_2、拉取tomcat镜像","children":[]},{"level":3,"title":"3、创建容器，设置端口映射、目录映射","slug":"_3、创建容器-设置端口映射、目录映射","link":"#_3、创建容器-设置端口映射、目录映射","children":[]},{"level":3,"title":"4、测试","slug":"_4、测试","link":"#_4、测试","children":[]}]},{"level":2,"title":"三、docker安装部署Nginx","slug":"三、docker安装部署nginx","link":"#三、docker安装部署nginx","children":[{"level":3,"title":"1、搜索nginx镜像","slug":"_1、搜索nginx镜像","link":"#_1、搜索nginx镜像","children":[]},{"level":3,"title":"2、拉取nginx镜像","slug":"_2、拉取nginx镜像","link":"#_2、拉取nginx镜像","children":[]},{"level":3,"title":"3、创建容器，设置端口映射、目录映射","slug":"_3、创建容器-设置端口映射、目录映射-1","link":"#_3、创建容器-设置端口映射、目录映射-1","children":[]},{"level":3,"title":"4、测试","slug":"_4、测试-1","link":"#_4、测试-1","children":[]}]},{"level":2,"title":"四、docker安装部署Redis","slug":"四、docker安装部署redis","link":"#四、docker安装部署redis","children":[{"level":3,"title":"1、搜索redis镜像","slug":"_1、搜索redis镜像","link":"#_1、搜索redis镜像","children":[]},{"level":3,"title":"2、拉取redis镜像","slug":"_2、拉取redis镜像","link":"#_2、拉取redis镜像","children":[]},{"level":3,"title":"3、创建容器，设置端口映射","slug":"_3、创建容器-设置端口映射","link":"#_3、创建容器-设置端口映射","children":[]},{"level":3,"title":"4、测试","slug":"_4、测试-2","link":"#_4、测试-2","children":[]}]},{"level":2,"title":"五、docker安装部署postgreSQL","slug":"五、docker安装部署postgresql","link":"#五、docker安装部署postgresql","children":[{"level":3,"title":"1、搜索postgres镜像","slug":"_1、搜索postgres镜像","link":"#_1、搜索postgres镜像","children":[]},{"level":3,"title":"2、拉取postgres镜像","slug":"_2、拉取postgres镜像","link":"#_2、拉取postgres镜像","children":[]},{"level":3,"title":"3、创建挂载目录","slug":"_3、创建挂载目录","link":"#_3、创建挂载目录","children":[]},{"level":3,"title":"4、创建容器，设置端口映射","slug":"_4、创建容器-设置端口映射","link":"#_4、创建容器-设置端口映射","children":[]},{"level":3,"title":"5、修改密码（可选）","slug":"_5、修改密码-可选","link":"#_5、修改密码-可选","children":[]}]}],"git":{"createdTime":1726027079000,"updatedTime":1726027079000,"contributors":[{"name":"ldf","email":"1305366530@qq.com","commits":1}]},"readingTime":{"minutes":9.18,"words":2755},"filePathRelative":"deploy/Linux部署文档/软件安装/Linux docker安装各软件(汇总).md","localizedDate":"2024年9月11日","autoDesc":true,"excerpt":"<h2>Docker安装各软件（汇总）</h2>\\n<h2>一、docker<strong>安装oracle-12c</strong></h2>\\n<h3><strong>1、拉取oracle-12c镜像</strong></h3>\\n<p>启动**「Docker Desktop」<strong>后在cmd窗口中执行<code>docker search oracle</code>命令，搜索Oracle相关的镜像，可以看到搜索结果中的</strong>「truevoly/oracle-12c」**</p>\\n<div class=\\"language-sql line-numbers-mode\\" data-highlighter=\\"shiki\\" data-ext=\\"sql\\" data-title=\\"sql\\" style=\\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\\"><pre class=\\"shiki shiki-themes one-light one-dark-pro vp-code\\"><code><span class=\\"line\\"><span style=\\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\\"># 拉取镜像(默认下载oracle-12c最新版本的镜像)</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\\">docker pull truevoly/oracle-12c</span></span></code></pre>\\n<div class=\\"line-numbers\\" aria-hidden=\\"true\\" style=\\"counter-reset:line-number 0\\"><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div></div></div>"}');export{k as comp,o as data};
