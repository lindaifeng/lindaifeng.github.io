import{_ as e}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as i,o as a,f as t}from"./app-1glq8-TT.js";const s={},n=t(`<h1 id="docker容器间相互访问" tabindex="-1"><a class="header-anchor" href="#docker容器间相互访问"><span>Docker容器间相互访问</span></a></h1><h2 id="三种通讯方式" tabindex="-1"><a class="header-anchor" href="#三种通讯方式"><span>三种通讯方式</span></a></h2><h2 id="一、通过容器ip访问-不推荐" tabindex="-1"><a class="header-anchor" href="#一、通过容器ip访问-不推荐"><span>一、通过容器ip访问（不推荐）</span></a></h2><p><strong>每次重启容器ip会变化</strong></p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>#查看容器ip</span></span>
<span class="line"><span>docker inspect 容器 | grep  IPAddress</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="二、通过主机ip访问-不推荐" tabindex="-1"><a class="header-anchor" href="#二、通过主机ip访问-不推荐"><span>二、通过主机ip访问（不推荐）</span></a></h2><p>端口映射 直接暴露IP端口，直接写死我们本机的ip加上映射端口</p><p><strong>当连的无线网，网络变化时，主机ip也会变化</strong></p><blockquote><p>扩展：</p><p>1、Mac环境下，容器访问主机ip <code>host.docker.internal</code> 我想要从容器连接主机的一个服务 当主机需要变化IP地址（或者它根本就没有网络）。在18.03 之后的版本中我们建议使用一个专门的DNS名称host.docker.internal，这个DNS名称将被解析到主机的内部IP。 这只是为了开发目的，不要用于非Mac版Docker的生产环境。</p><p>2、host.docker.internal宿主机访问无效的解决方法</p><p>在 Docker 20.10 及以上版本中，Docker 访问宿主机的方式有所变化：</p><p><code>host.docker.internal:host-gateway</code></p></blockquote><h2 id="三、建立容器链接-推荐" tabindex="-1"><a class="header-anchor" href="#三、建立容器链接-推荐"><span>三、建立容器链接（推荐）</span></a></h2><p>启动容器的时候，给要通信的目标容器使用link指定一个“链接名”,在容器中就可以使用“链接名”和目标容器通信。格式： <code>--link 目标容器:别名</code></p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>#启动一个mysql容器名称叫mysql5，别名叫mysql</span></span>
<span class="line"><span>docker run -it --restart=always --name=mysql5 --link mysql5:mysql hub.c.163.com/library/mysql:latest </span></span>
<span class="line"><span>#通过访问别名即可访问到容器ip</span></span>
<span class="line"><span>ping mysql</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,12),r=[n];function l(p,o){return a(),i("div",null,r)}const h=e(s,[["render",l],["__file","Docker容器间相互访问.html.vue"]]),m=JSON.parse('{"path":"/middleware/%E5%AE%B9%E5%99%A8%E5%8C%96%E6%8A%80%E6%9C%AF/Docker%E6%8A%80%E6%9C%AF/Docker%E5%AE%B9%E5%99%A8%E9%97%B4%E7%9B%B8%E4%BA%92%E8%AE%BF%E9%97%AE.html","title":"Docker容器间相互访问","lang":"zh-CN","frontmatter":{"title":"Docker容器间相互访问","categories":["Docker"],"tags":["docker"],"order":2,"description":"Docker容器间相互访问 三种通讯方式 一、通过容器ip访问（不推荐） 每次重启容器ip会变化 二、通过主机ip访问（不推荐） 端口映射 直接暴露IP端口，直接写死我们本机的ip加上映射端口 当连的无线网，网络变化时，主机ip也会变化 扩展： 1、Mac环境下，容器访问主机ip host.docker.internal 我想要从容器连接主机的一个服务...","head":[["meta",{"property":"og:url","content":"http://blog.lindaifeng.vip/middleware/%E5%AE%B9%E5%99%A8%E5%8C%96%E6%8A%80%E6%9C%AF/Docker%E6%8A%80%E6%9C%AF/Docker%E5%AE%B9%E5%99%A8%E9%97%B4%E7%9B%B8%E4%BA%92%E8%AE%BF%E9%97%AE.html"}],["meta",{"property":"og:site_name","content":"文档演示"}],["meta",{"property":"og:title","content":"Docker容器间相互访问"}],["meta",{"property":"og:description","content":"Docker容器间相互访问 三种通讯方式 一、通过容器ip访问（不推荐） 每次重启容器ip会变化 二、通过主机ip访问（不推荐） 端口映射 直接暴露IP端口，直接写死我们本机的ip加上映射端口 当连的无线网，网络变化时，主机ip也会变化 扩展： 1、Mac环境下，容器访问主机ip host.docker.internal 我想要从容器连接主机的一个服务..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2024-09-11T03:57:59.000Z"}],["meta",{"property":"article:author","content":"清峰"}],["meta",{"property":"article:tag","content":"docker"}],["meta",{"property":"article:modified_time","content":"2024-09-11T03:57:59.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"Docker容器间相互访问\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2024-09-11T03:57:59.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"清峰\\",\\"url\\":\\"http://blog.lindaifeng.vip/\\"}]}"]]},"headers":[{"level":2,"title":"三种通讯方式","slug":"三种通讯方式","link":"#三种通讯方式","children":[]},{"level":2,"title":"一、通过容器ip访问（不推荐）","slug":"一、通过容器ip访问-不推荐","link":"#一、通过容器ip访问-不推荐","children":[]},{"level":2,"title":"二、通过主机ip访问（不推荐）","slug":"二、通过主机ip访问-不推荐","link":"#二、通过主机ip访问-不推荐","children":[]},{"level":2,"title":"三、建立容器链接（推荐）","slug":"三、建立容器链接-推荐","link":"#三、建立容器链接-推荐","children":[]}],"git":{"createdTime":1726027079000,"updatedTime":1726027079000,"contributors":[{"name":"ldf","email":"1305366530@qq.com","commits":1}]},"readingTime":{"minutes":1.24,"words":373},"filePathRelative":"middleware/容器化技术/Docker技术/Docker容器间相互访问.md","localizedDate":"2024年9月11日","autoDesc":true,"excerpt":"\\n<h2>三种通讯方式</h2>\\n<h2>一、通过容器ip访问（不推荐）</h2>\\n<p><strong>每次重启容器ip会变化</strong></p>\\n<div class=\\"language- line-numbers-mode\\" data-highlighter=\\"shiki\\" data-ext=\\"\\" data-title=\\"\\" style=\\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\\"><pre class=\\"shiki shiki-themes one-light one-dark-pro vp-code\\"><code><span class=\\"line\\"><span>#查看容器ip</span></span>\\n<span class=\\"line\\"><span>docker inspect 容器 | grep  IPAddress</span></span></code></pre>\\n<div class=\\"line-numbers\\" aria-hidden=\\"true\\" style=\\"counter-reset:line-number 0\\"><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div></div></div>"}');export{h as comp,m as data};
