import{_ as s}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as n,o as a,f as e}from"./app-yhW6njzi.js";const i={},l=e(`<h2 id="mysql5-7升级小版本-windows" tabindex="-1"><a class="header-anchor" href="#mysql5-7升级小版本-windows"><span>mysql5.7升级小版本-windows</span></a></h2><blockquote><p>在centos7环境中从5.7.26升级到5.7.37请看：密码：qot9</p><p>https://zrzyjyb.yuque.com/docs/share/eba5d4c6-b5bf-4e1b-ac46-b75e3be1f18b</p></blockquote><p>应用场景：mysql 5.7.20升级到当前最新的5.7.31 ，Windows环境</p><p>官网下载链接：https://dev.mysql.com/downloads/mysql/5.7.html</p><p><strong>注意：操作前mysql数据一定一定先备份，以免安装过程中出问题能够补救</strong></p><h2 id="一、关闭并删除mysql服务" tabindex="-1"><a class="header-anchor" href="#一、关闭并删除mysql服务"><span>一、关闭并删除mysql服务</span></a></h2><p>先记录一下mysql的安装路径</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>//查看mysql安装路径</span></span>
<span class="line"><span>select @@basedir as basePath from dual;</span></span>
<span class="line"><span>//查看mysql data数据存放路径</span></span>
<span class="line"><span>show global variables like &#39;%datadir%&#39;;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>再服务窗口关闭mysql服务</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>//cmd切换盘符e:</span></span>
<span class="line"><span>//cd到安装路径bin目录下</span></span>
<span class="line"><span>E:/MySQL/mysql&gt;cd bin</span></span>
<span class="line"><span>//移除mysql服务</span></span>
<span class="line"><span>E:/MySQL/mysql/bin&gt;mysqld —remove</span></span>
<span class="line"><span>Service successfully removed.</span></span>
<span class="line"><span></span></span>
<span class="line"><span>E:/MySQL/mysql/bin&gt;cd ..</span></span>
<span class="line"><span></span></span>
<span class="line"><span>E:/MySQL/mysql&gt;cd ..</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="二、替换mysql-相关文件" tabindex="-1"><a class="header-anchor" href="#二、替换mysql-相关文件"><span>二、替换mysql 相关文件</span></a></h2><p>将mysql文件夹改名，然后将新版本解压命名为mysql将原来的my.ini和data目录拷贝到mysql文件夹中</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>E:/MySQL&gt;cd mysql</span></span>
<span class="line"><span>E:/MySQL&gt;cd bin</span></span>
<span class="line"><span>//安装mysql服务</span></span>
<span class="line"><span>E:/MySQL/mysql&gt;mysqld —install</span></span>
<span class="line"><span>Service successfully installed.</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="三、启动mysql服务" tabindex="-1"><a class="header-anchor" href="#三、启动mysql服务"><span>三、启动mysql服务</span></a></h2><p>重新打开服务窗口，启动mysql服务</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>E:/MySQL/mysql&gt;cd bin</span></span>
<span class="line"><span>E:/MySQL/mysql/bin&gt;mysql -u root -p</span></span>
<span class="line"><span>输入原先的密码</span></span>
<span class="line"><span></span></span>
<span class="line"><span>//查看mysql版本</span></span>
<span class="line"><span>mysql&gt; select version();</span></span>
<span class="line"><span>+—————-+</span></span>
<span class="line"><span>| version() |</span></span>
<span class="line"><span>+—————-+</span></span>
<span class="line"><span>| 5.7.37 |</span></span>
<span class="line"><span>+—————-+</span></span>
<span class="line"><span>1 row in set (0.00 sec)</span></span>
<span class="line"><span></span></span>
<span class="line"><span>mysql&gt; exit</span></span>
<span class="line"><span>Bye</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>第三步操作能正常启动可直接跳到第四步。</strong></p><blockquote><p>注意：我在本机上测试，一，二步操作完后，第三步服务能够启动。但在生产环境下却启动不起来。</p><p>我在cmd输入启动命令：net start msql的时候提示“服务报告没有任何错误”。</p><p>原因：安装完mysql服务后迫不及待的开启mysql服务，在mysql5.7以上版本中默认没有一个data目录，即没有初始化服务。需要先初始化mysql才可以启动服务mysqld --initialize-insecure，否则会报 “服务没有报告任何错误”，启动失败。</p><p>1）我这里是因为生产上的mysql数据存放目录data在其他文件夹中，我替换了mysql安装目录后，配置文件my.ini中直接将数据存放目录引导至data所在路径，结果报错。</p><p>2）将data路径放置mysql安装目录下，修改配置文件数据存放路径datadir即可，即可启动成功。</p><p>3）还是启动不成功就执行mysqld --initialize-insecure将数据库初始化，然后在启动，注意初始化后你的数据库相当于重置了，是一个全新的数据库，需要重新设置密码，导库操作。</p></blockquote><h2 id="四、执行升级操作" tabindex="-1"><a class="header-anchor" href="#四、执行升级操作"><span>四、执行升级操作</span></a></h2><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>E:/MySQL/mysql/bin&gt;mysql_upgrade.exe -uroot -p 密码</span></span>
<span class="line"><span>提示：</span></span>
<span class="line"><span>mysql_upgrade: [Warning] Using a password on the command line interface can be i</span></span>
<span class="line"><span>nsecure.</span></span>
<span class="line"><span>Checking if update is needed.</span></span>
<span class="line"><span>Checking server version.</span></span>
<span class="line"><span>Running queries to upgrade MySQL server.</span></span>
<span class="line"><span>Checking system database.</span></span>
<span class="line"><span>mysql.columns_priv OK</span></span>
<span class="line"><span>mysql.db OK</span></span>
<span class="line"><span>mysql.engine_cost OK</span></span>
<span class="line"><span>mysql.event OK</span></span>
<span class="line"><span>mysql.func OK</span></span>
<span class="line"><span>mysql.general_log OK</span></span>
<span class="line"><span>mysql.gtid_executed OK</span></span>
<span class="line"><span>mysql.help_category OK</span></span>
<span class="line"><span>mysql.help_keyword OK</span></span>
<span class="line"><span>mysql.help_relation OK</span></span>
<span class="line"><span>mysql.help_topic OK</span></span>
<span class="line"><span>mysql.innodb_index_stats OK</span></span>
<span class="line"><span>mysql.innodb_table_stats OK</span></span>
<span class="line"><span>mysql.ndb_binlog_index OK</span></span>
<span class="line"><span>mysql.plugin OK</span></span>
<span class="line"><span>mysql.proc OK</span></span>
<span class="line"><span>mysql.procs_priv OK</span></span>
<span class="line"><span>mysql.proxies_priv OK</span></span>
<span class="line"><span>mysql.server_cost OK</span></span>
<span class="line"><span>mysql.servers OK</span></span>
<span class="line"><span>mysql.slave_master_info OK</span></span>
<span class="line"><span>mysql.slave_relay_log_info OK</span></span>
<span class="line"><span>mysql.slave_worker_info OK</span></span>
<span class="line"><span>mysql.slow_log OK</span></span>
<span class="line"><span>mysql.tables_priv OK</span></span>
<span class="line"><span>mysql.time_zone OK</span></span>
<span class="line"><span>mysql.time_zone_leap_second OK</span></span>
<span class="line"><span>mysql.time_zone_name OK</span></span>
<span class="line"><span>mysql.time_zone_transition OK</span></span>
<span class="line"><span>mysql.time_zone_transition_type OK</span></span>
<span class="line"><span>mysql.user OK</span></span>
<span class="line"><span>Found outdated sys schema version 1.5.1.</span></span>
<span class="line"><span>Upgrading the sys schema.</span></span>
<span class="line"><span>Checking databases.</span></span>
<span class="line"><span>ejabberd.archive OK</span></span>
<span class="line"><span>ejabberd.archive_prefs OK</span></span>
<span class="line"><span>ejabberd.archive_search_result OK</span></span>
<span class="line"><span>ejabberd.archive_search_task OK</span></span>
<span class="line"><span>ejabberd.bosh OK</span></span>
<span class="line"><span>ejabberd.caps_features OK</span></span>
<span class="line"><span>ejabberd.carboncopy OK</span></span>
<span class="line"><span>ejabberd.im_muc_room_member OK</span></span>
<span class="line"><span>ejabberd.im_muc_room_stat OK</span></span>
<span class="line"><span>ejabberd.im_sys_config OK</span></span>
<span class="line"><span>ejabberd.im_unread_message OK</span></span>
<span class="line"><span>ejabberd.irc_custom OK</span></span>
<span class="line"><span>ejabberd.last OK</span></span>
<span class="line"><span>ejabberd.motd OK</span></span>
<span class="line"><span>ejabberd.msg_item OK</span></span>
<span class="line"><span>ejabberd.muc_online_room OK</span></span>
<span class="line"><span>ejabberd.muc_online_users OK</span></span>
<span class="line"><span>ejabberd.muc_registered OK</span></span>
<span class="line"><span>ejabberd.muc_room OK</span></span>
<span class="line"><span>ejabberd.muc_room_dissolved OK</span></span>
<span class="line"><span>ejabberd.oauth_token OK</span></span>
<span class="line"><span>ejabberd.privacy_default_list OK</span></span>
<span class="line"><span>ejabberd.privacy_list OK</span></span>
<span class="line"><span>ejabberd.privacy_list_data OK</span></span>
<span class="line"><span>ejabberd.private_storage OK</span></span>
<span class="line"><span>ejabberd.proxy65 OK</span></span>
<span class="line"><span>ejabberd.pubsub_item OK</span></span>
<span class="line"><span>ejabberd.pubsub_node OK</span></span>
<span class="line"><span>ejabberd.pubsub_node_option OK</span></span>
<span class="line"><span>ejabberd.pubsub_node_owner OK</span></span>
<span class="line"><span>ejabberd.pubsub_state OK</span></span>
<span class="line"><span>ejabberd.pubsub_subscription_opt OK</span></span>
<span class="line"><span>ejabberd.roster_version OK</span></span>
<span class="line"><span>ejabberd.rostergroups OK</span></span>
<span class="line"><span>ejabberd.rosterusers OK</span></span>
<span class="line"><span>ejabberd.route OK</span></span>
<span class="line"><span>ejabberd.sm OK</span></span>
<span class="line"><span>ejabberd.spool OK</span></span>
<span class="line"><span>ejabberd.sr_group OK</span></span>
<span class="line"><span>ejabberd.sr_user OK</span></span>
<span class="line"><span>ejabberd.user_favorite_contact OK</span></span>
<span class="line"><span>ejabberd.user_favorite_group_def OK</span></span>
<span class="line"><span>ejabberd.user_mc_room OK</span></span>
<span class="line"><span>ejabberd.user_sign OK</span></span>
<span class="line"><span>ejabberd.users OK</span></span>
<span class="line"><span>ejabberd.vcard OK</span></span>
<span class="line"><span>ejabberd.vcard_search OK</span></span>
<span class="line"><span>sys.sys_config OK</span></span>
<span class="line"><span>Upgrade process completed successfully.</span></span>
<span class="line"><span>Checking if update is needed.</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="五、重启mysql服务并验证版本" tabindex="-1"><a class="header-anchor" href="#五、重启mysql服务并验证版本"><span>五、重启mysql服务并验证版本</span></a></h2><p>重启mysql服务</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>//进入mysql</span></span>
<span class="line"><span>E:/MySQL/mysql/bin&gt;mysql -u root -p</span></span>
<span class="line"><span>密码：</span></span>
<span class="line"><span></span></span>
<span class="line"><span>//查看版本</span></span>
<span class="line"><span>mysql&gt; select version();</span></span>
<span class="line"><span>//查看数据库</span></span>
<span class="line"><span>mysql&gt; show databases;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>完毕</p>`,24),p=[l];function d(c,r){return a(),n("div",null,p)}const b=s(i,[["render",d],["__file","Mysql5.7升级小版本.html.vue"]]),v=JSON.parse('{"path":"/database/Mysql%E6%95%B0%E6%8D%AE%E5%BA%93/Mysql5.7%E5%8D%87%E7%BA%A7%E5%B0%8F%E7%89%88%E6%9C%AC.html","title":"Mysql5.7升级小版本","lang":"zh-CN","frontmatter":{"title":"Mysql5.7升级小版本","order":2,"description":"mysql5.7升级小版本-windows 在centos7环境中从5.7.26升级到5.7.37请看：密码：qot9 https://zrzyjyb.yuque.com/docs/share/eba5d4c6-b5bf-4e1b-ac46-b75e3be1f18b 应用场景：mysql 5.7.20升级到当前最新的5.7.31 ，Windows环境 ...","head":[["meta",{"property":"og:url","content":"http://blog.lindaifeng.vip/database/Mysql%E6%95%B0%E6%8D%AE%E5%BA%93/Mysql5.7%E5%8D%87%E7%BA%A7%E5%B0%8F%E7%89%88%E6%9C%AC.html"}],["meta",{"property":"og:site_name","content":"文档演示"}],["meta",{"property":"og:title","content":"Mysql5.7升级小版本"}],["meta",{"property":"og:description","content":"mysql5.7升级小版本-windows 在centos7环境中从5.7.26升级到5.7.37请看：密码：qot9 https://zrzyjyb.yuque.com/docs/share/eba5d4c6-b5bf-4e1b-ac46-b75e3be1f18b 应用场景：mysql 5.7.20升级到当前最新的5.7.31 ，Windows环境 ..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2024-09-11T03:57:59.000Z"}],["meta",{"property":"article:author","content":"清峰"}],["meta",{"property":"article:modified_time","content":"2024-09-11T03:57:59.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"Mysql5.7升级小版本\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2024-09-11T03:57:59.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"清峰\\",\\"url\\":\\"http://blog.lindaifeng.vip/\\"}]}"]]},"headers":[{"level":2,"title":"mysql5.7升级小版本-windows","slug":"mysql5-7升级小版本-windows","link":"#mysql5-7升级小版本-windows","children":[]},{"level":2,"title":"一、关闭并删除mysql服务","slug":"一、关闭并删除mysql服务","link":"#一、关闭并删除mysql服务","children":[]},{"level":2,"title":"二、替换mysql 相关文件","slug":"二、替换mysql-相关文件","link":"#二、替换mysql-相关文件","children":[]},{"level":2,"title":"三、启动mysql服务","slug":"三、启动mysql服务","link":"#三、启动mysql服务","children":[]},{"level":2,"title":"四、执行升级操作","slug":"四、执行升级操作","link":"#四、执行升级操作","children":[]},{"level":2,"title":"五、重启mysql服务并验证版本","slug":"五、重启mysql服务并验证版本","link":"#五、重启mysql服务并验证版本","children":[]}],"git":{"createdTime":1726027079000,"updatedTime":1726027079000,"contributors":[{"name":"ldf","email":"1305366530@qq.com","commits":1}]},"readingTime":{"minutes":3.03,"words":910},"filePathRelative":"database/Mysql数据库/Mysql5.7升级小版本.md","localizedDate":"2024年9月11日","autoDesc":true,"excerpt":"<h2>mysql5.7升级小版本-windows</h2>\\n<blockquote>\\n<p>在centos7环境中从5.7.26升级到5.7.37请看：密码：qot9</p>\\n<p>https://zrzyjyb.yuque.com/docs/share/eba5d4c6-b5bf-4e1b-ac46-b75e3be1f18b</p>\\n</blockquote>\\n<p>应用场景：mysql 5.7.20升级到当前最新的5.7.31 ，Windows环境</p>\\n<p>官网下载链接：https://dev.mysql.com/downloads/mysql/5.7.html</p>\\n<p><strong>注意：操作前mysql数据一定一定先备份，以免安装过程中出问题能够补救</strong></p>"}');export{b as comp,v as data};
